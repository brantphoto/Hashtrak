<!DOCTYPE html>
<html>
<head>
  <title>Hashtrek</title>
  <%= stylesheet_link_tag    "application", media: "all", "data-turbolinks-track" => true %>
  <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
  <%= csrf_meta_tags %>
  <meta name="viewport" content="width=device-width, intial-scale=1.0">
 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.17/angular.js"> </script>
<script> 

var hashtrakApp = angular.module('hashtrakApp',[])

hashtrakApp.controller('Hashtag', ['$scope', 'SenateData', 'CommitteeData',
  function($scope, SenateData, CommitteeData) {

  $scope.json = {};

  SenateData.getData().then(function(json){
    $scope.json = json.data;

          console.log($scope.senatordata)
  });


  congressApp.controller('Congress', ['$scope', 'SenateData', 'CommitteeData',
  function($scope, SenateData, CommitteeData) {

  $scope.senatordata = {};

  SenateData.getData().then(function(json){
    $scope.senatordata = json.data;

   
  });

  // create factory for the senators data
congressApp.factory('SenateData', ['$http', function($http){
  var senators = {};

  senators.getData = function(){
    var url = 'http://localhost:3000/senators/show';
    var endpoint = url; 
    return $http({ method: 'GET', url: endpoint });
  };

  return senators;

}]);
</script>
</head>
<body>
	
  <%= render 'layouts/header' %>
  <%= yield %>

</body>
</html>
